<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>new user input</title>

  <link href="css/Add_new_recipe.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" />
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
    integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
    integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
    crossorigin="anonymous"></script>
</head>

<body>
  <%- include("./partials/navbar") %>
  <!-- ***********************************************************88 -->
  <form action="/new_user_recipe" method="post" enctype="multipart/form-data">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h1>hello about</h1>
          <div class=" profileimg-text order-md-0 order-1" style="margin: auto">
            <div class="Recipe-img mt-1">
              <h4 class="text-center">Select your Recipe Image</h4>
              <div class="rounded-start border border-dark">
                <input id="input_field_img" type="file" name="image" required /><br />
              </div>
            </div>
          </div>
          <div class=" profileimg-text order-md-1 order-0 mt-4">
            <div class="recipe_name">
              <h4 class="text-center">Enter your Recipe Name</h4>
              <input type="text" name="recipe_name" id="input" required />
            </div>

            <h4 class="text-center mt-2">Enter your Recipe content</h4>
            <div class="  ">
              <textarea class="form-control" id="input-content" aria-label="With textarea"
                name="user_recipe_content"></textarea>
            </div>
            <div class="recipe-icons mt-2">
              <article>
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="1em"
                  width="1em" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd" d="M8 15A7 7 0 108 1a7 7 0 000 14zm8-7A8 8 0 110 8a8 8 0 0116 0z"
                    clip-rule="evenodd"></path>
                  <path fill-rule="evenodd"
                    d="M7.5 3a.5.5 0 01.5.5v5.21l3.248 1.856a.5.5 0 01-.496.868l-3.5-2A.5.5 0 017 9V3.5a.5.5 0 01.5-.5z"
                    clip-rule="evenodd"></path>
                </svg>
                <h5>prep time</h5>
                <input type="text" name="preptime" class="input" placeholder="Please enter the prep timing" required />
                <p>14 min.</p>
              </article>
              <article>
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="1em"
                  width="1em" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd"
                    d="M8.515 1.019A7 7 0 008 1V0a8 8 0 01.589.022l-.074.997zm2.004.45a7.003 7.003 0 00-.985-.299l.219-.976c.383.086.76.2 1.126.342l-.36.933zm1.37.71a7.01 7.01 0 00-.439-.27l.493-.87a8.025 8.025 0 01.979.654l-.615.789a6.996 6.996 0 00-.418-.302zm1.834 1.79a6.99 6.99 0 00-.653-.796l.724-.69c.27.285.52.59.747.91l-.818.576zm.744 1.352a7.08 7.08 0 00-.214-.468l.893-.45a7.976 7.976 0 01.45 1.088l-.95.313a7.023 7.023 0 00-.179-.483zm.53 2.507a6.991 6.991 0 00-.1-1.025l.985-.17c.067.386.106.778.116 1.17l-1 .025zm-.131 1.538c.033-.17.06-.339.081-.51l.993.123a7.957 7.957 0 01-.23 1.155l-.964-.267c.046-.165.086-.332.12-.501zm-.952 2.379c.184-.29.346-.594.486-.908l.914.405c-.16.36-.345.706-.555 1.038l-.845-.535zm-.964 1.205c.122-.122.239-.248.35-.378l.758.653a8.073 8.073 0 01-.401.432l-.707-.707z"
                    clip-rule="evenodd"></path>
                  <path fill-rule="evenodd" d="M8 1a7 7 0 104.95 11.95l.707.707A8.001 8.001 0 118 0v1z"
                    clip-rule="evenodd"></path>
                  <path fill-rule="evenodd"
                    d="M7.5 3a.5.5 0 01.5.5v5.21l3.248 1.856a.5.5 0 01-.496.868l-3.5-2A.5.5 0 017 9V3.5a.5.5 0 01.5-.5z"
                    clip-rule="evenodd"></path>
                </svg>
                <h5>Total time</h5>
                <input type="text" class="input" name="totaltime" placeholder="Please enter the Total timing"
                  required />
                <p>15 min.</p>
              </article>
            </div>
          </div>
          <div class=" profileimg-text order-md-0 order-1 mt-3" style="border: 1px solid black;">
            <h3 class="text-center">KITCHEN GEAR</h3>
            <section class="tolist ">
              <div class="container" style="text-align: center;">
                <!-- <h3 class="text-center">KITCHEN GEAR</h3> -->
                <div class="row">
                  <div class="col-md-4"></div>
                  <div class="col-md-4">
                    <input type="text" id="kitchengearName" class="input" name="kitchen_gear" />
                    <input type="button" value="add" id="btnclick" class="btn" onclick="KitchenaddMore()" />
                    <span id="kitchengearError" class="text-danger"></span>
                    <ul id="kitchengearBox"></ul>
                  </div>
                </div>

              </div>
            </section>
          </div>
          <!-- right side -->
          <div class=" profileimg-text order-md-1 order-0 mt-3"style="border: 1px solid black;">
            <h3 class="text-center">INGREDIENTS</h3>
            <section class="tolist ">
              <div class="container" style="text-align: center;">
                <div class="row">
                  <div class="col-md-4"></div>
                  <div class="col-md-4">
                    <input type="text" id="ingredientname" class="input" name="ingredients" />
                    <input type="button" value="add" id="btnclick" class="btn" onclick="ingredientaddMore()" />
                    <span id="ingredienterror" class="text-danger"></span>
                    <ul id="ingredientbox"></ul>
                  </div>
                </div>

              </div>
            </section>
          </div>
          <section class="tolist ">
            <div class=" profileimg-text order-md-1 order-0 mt-3" style="border: 1px solid black;">
              <h4 class="text-center">INSTRUCTIONS</h4>
              <div class="container" >
                <div class="row">
                  <div class=""></div>
                  <div class="text-center">
                    <input type="text" id="instructionname" class="input" name="instructions" />
                    <input type="button" value="add" id="btnclick" class="btn" onclick="addMore()" />
                    <span id="instructionerror" class="text-danger"></span>
                    <ul id="instructionbox"></ul>
                  </div>
                </div>
                
              </div>
            </div>
          </section>
          <div class="text-center">
            <label for="cars">choose your recipe public either private:</label>
            <select name="visibility" id="cars" required>
              <option value="false">Private</option>
              <option value="true">Public</option>
            </select>
            <br /><br />
            <button type="submit" class="btn btn-dark text-center">Submit</button><br><br>
          </div>

        </div>
      </div>
    </div>
    <%- include('./partials/footer'); %>
  </form>
</body>
<script>
  ////////////////////////////////////kitchengear//////////////////
  function KitchenaddMore() {
    document.getElementById("kitchengearError").innerHTML = "";
    let uservalue = document.getElementById("kitchengearName").value;
    if (uservalue == "") {
      document.getElementById("kitchengearError").innerHTML =
        "please enter value";
    } else {
      let box = document.getElementById("kitchengearBox");
      let li = document.createElement("li");
      /*create input field*/

      li.setAttribute("class", "listBreakWrap");

      /* creeate li span text*/
      const gearliText = document.createElement("span");
      gearliText.innerText = uservalue;
      let gearinputfield = document.createElement("Input");
      gearinputfield.setAttribute("type", "text");
      gearinputfield.setAttribute("name", "gearItem[]");
      // gearinputfield.setAttribute("class", "gearinputclass");
      gearinputfield.style = "display: none";
      gearinputfield.setAttribute("value", gearliText.innerHTML);
      li.appendChild(gearinputfield);
      li.appendChild(gearliText);

      box.appendChild(li);

      let a = document.createElement("a");
      a.textContent = "x";
      a.href = "javascript:void(0)";
      a.className = "kitchengearRemove";
      a.addEventListener("click", kitchengearRemoveItam);
      li.appendChild(a);
      /////////////////
    }
    document.getElementById("kitchengearName").value = "";
  }

  var kitchengearRemoveItam = function (e) {
    let box = document.getElementById("kitchengearBox");

    li = e.target.parentNode;

    box.removeChild(li);
  };

  ///////////////////////////////////

  ///////////////////////////////INGREDIENTS////////////////////////////////
  function ingredientaddMore() {
    document.getElementById("ingredienterror").innerHTML = "";
    let IngredientuserValue = document.getElementById("ingredientname").value;
    if (IngredientuserValue == "") {
      document.getElementById("ingredienterror").innerHTML =
        "please enter value";
    } else {
      let box = document.getElementById("ingredientbox");
      let li = document.createElement("li");
      li.setAttribute("class", "ingredientclass");
      let ingredientliText = document.createElement("span");
      ingredientliText.textContent = IngredientuserValue;
      let ingredientInputText = document.createElement("Input");
      ingredientInputText.setAttribute("type", "text");
      ingredientInputText.setAttribute("name", "iningredientItam[]");

      ingredientInputText.style = "display: none";
      ingredientInputText.setAttribute("value", ingredientliText.innerHTML);
      li.appendChild(ingredientInputText);
      li.appendChild(ingredientliText);

      box.appendChild(li);
      let a = document.createElement("a");
      a.textContent = "x";
      a.href = "javascript:void(0)";
      a.className = "remove";
      a.addEventListener("click", ingredientremoveItam);
      li.appendChild(a);
    }
    document.getElementById("ingredientname").value = "";
  }

  var ingredientremoveItam = function (e) {
    let box = document.getElementById("ingredientbox");
    console.log(e.target);
    let li = e.target.parentNode;
    console.log(li);
    box.removeChild(li);
  };

  /////////////////////instruction/////////////////////////////////////

  function addMore() {
    document.getElementById("instructionerror").innerHTML = "";
    let uservalue = document.getElementById("instructionname").value;
    if (uservalue == "") {
      document.getElementById("instructionerror").innerHTML =
        "please enter value";
    } else {
      let box = document.getElementById("instructionbox");
      let li = document.createElement("li");
      li.setAttribute("class", "instructionclass");
      let instructionText = document.createElement("span");
      instructionText.textContent = uservalue;
      let instructionInputText = document.createElement("Input");
      // let ingredientInputText = document.createElement("Input");
      instructionInputText.setAttribute("type", "text");
      instructionInputText.setAttribute("name", "instructionItam[]");

      instructionInputText.style = "display: none";
      instructionInputText.setAttribute("value", instructionText.innerHTML);
      li.appendChild(instructionInputText);
      li.appendChild(instructionText);
      box.appendChild(li);
      // li.textContent = uservalue;
      // console.log(li.textContent)

      let a = document.createElement("a");
      a.textContent = "x";
      a.href = "javascript:void(0)";
      a.className = "remove";
      a.addEventListener("click", instructionRemove);
      li.appendChild(a);
      box.appendChild(li);
    }
    document.getElementById("instructionname").value = "";
  }

  var instructionRemove = function (e) {
    let box = document.getElementById("instructionbox");
    console.log(box, e.target);

    let li = e.target.parentNode;
    console.log(li);

    box.removeChild(li);
  };

 let recipesuccess = "<%= formsubmitted%>";
 console.log(recipesuccess)
 if(recipesuccess){
  alert(recipesuccess)
  window.location.href = "http://localhost:5000/home_pagec";
 }
</script>

</html>